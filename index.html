<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>LSPD RP Flipbook ‚Äî Premium Leather</title>

<style>
:root{
  --book-width:1200px;
  --book-height:800px;
  --cover-thickness:30px;
  --paper-color:#fffdf8;
  --shadow:0 24px 60px rgba(0,0,0,0.35);
}

/* Base Layout */
html,body{height:100%;margin:0}
body{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#050b14;
  font-family:Inter,Arial,system-ui;
  overflow: hidden;
}

/* ‚úÖ PHONE SUPPORT (ADDED): scaler wrapper */
.scale-wrap{
  transform-origin:center center;
  will-change:transform;
  /* prevents mobile highlight/select jitter */
  -webkit-tap-highlight-color: transparent;
}

/* Book Container */
.book-wrap{
  width:var(--book-width);
  height:var(--book-height);
  position:relative;
  perspective:2200px;
  user-select:none;
  filter:drop-shadow(0 28px 50px rgba(0,0,0,0.6));
}

/* ---------------------------------- */
/*        PREMIUM LEATHER COVER       */
/* ---------------------------------- */

.cover{
  position:absolute; inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  transform-style:preserve-3d;
  pointer-events:none;
}

.cover .side{
  position:absolute;
  top:0;
  height:100%;
  width:calc(50% + var(--cover-thickness));
  backface-visibility:hidden;
  color:#f5f7ff;
  padding:32px;
  text-align:center;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
  justify-content:center;
  position:relative;

  background:
    radial-gradient(ellipse at 20% 15%, rgba(255,255,255,0.14), transparent 55%),
    radial-gradient(ellipse at 80% 90%, rgba(0,0,0,0.55), transparent 55%),
    url("leather_cover.png") center/cover no-repeat,
    #0a213a;
  background-blend-mode:soft-light, multiply, normal, normal;
}

.cover .side::before{
  content:"";
  position:absolute;
  inset:12px;
  border-radius:6px;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.15),
    inset 0 0 26px rgba(0,0,0,0.9);
}

.cover .side::after{
  content:"";
  position:absolute;
  top:-30%;
  left:5%;
  width:70%;
  height:160%;
  transform:rotate(-10deg);
  background:linear-gradient(
    130deg,
    rgba(255,255,255,0.32) 0%,
    rgba(255,255,255,0.10) 20%,
    rgba(0,0,0,0.0) 55%,
    rgba(0,0,0,0.55) 100%
  );
  opacity:.55;
  mix-blend-mode:screen;
}

.cover-title{
  font-size:46px;
  margin:0;
  letter-spacing:3px;
  text-transform:uppercase;
}

/* üßµ SEWN / STITCHED TEXT EFFECT */
.cover .front .cover-title,
.cover .front .cover-subtitle{
  color:#e6e2d8; /* slightly off-white leather thread look */

  text-shadow:
    /* inner pressed shadow */
    0 1px 0 rgba(0,0,0,0.65),
    0 2px 1px rgba(0,0,0,0.55),

    /* subtle highlight edge */
    0 -1px 0 rgba(255,255,255,0.12),

    /* soft depth */
    0 6px 10px rgba(0,0,0,0.45);

  filter: saturate(0.9) contrast(1.05);
}

.cover-subtitle{
  margin-top:12px;
  font-size:14px;
  opacity:.92;
}

.cover .front{
  justify-content:flex-start;   /* move content up */
  padding-top:0px;            /* adjust this value as needed */
}
.cover .back{
  right:0;
  transform-origin:right center;
  transform:rotateY(180deg);
}

.cover .front .cover-title,
.cover .front .cover-subtitle{
  transform: translateY(170px); /* positive = lower */
}

/* Spine */
.spine{
  position:absolute;
  left:calc(50% - var(--cover-thickness)/2);
  width:var(--cover-thickness);
  height:100%;
  background:linear-gradient(180deg,#040a16,#0c192a);
  box-shadow:
    inset -10px 0 24px rgba(0,0,0,0.8),
    0 0 12px rgba(0,0,0,0.7);
}

/* Pages container */
.pages{
  position:absolute;
  left:50%;
  top:2.5%;
  width:calc(50% - var(--cover-thickness)/2);
  height:95%;
  transform:translateX(-2%);
  transform-style:preserve-3d;
  z-index:5;
}

/* ---------------------------------- */
/*      REAL PAPER TEXTURE PAGES      */
/* ---------------------------------- */

.page{
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  transform-style:preserve-3d;
  transform-origin:left center;
  transition:
    transform .45s cubic-bezier(.2,.9,.2,1),
    box-shadow .45s cubic-bezier(.2,.9,.2,1);
}

.page:not(.back-cover){
  transition:
    transform .7s cubic-bezier(.18,.8,.25,1),
    box-shadow .7s cubic-bezier(.18,.8,.25,1);
}

.page .front,
.page .back{
  position:absolute;
  inset:0;
  padding:32px;

  /* ‚≠ê YOUR LOCAL TEXTURE APPLIED HERE ‚≠ê */
  background:
    url("textures/photo-1712145176725-673500482322.jpeg") center/120% 120% no-repeat,
    radial-gradient(circle at 10% 10%, rgba(255,255,255,0.16), transparent 55%),
    #f6f0e4;

  background-blend-mode:multiply, soft-light, normal;
  box-shadow:
    inset -5px 0 11px rgba(0,0,0,0.09),
    0 7px 18px rgba(0,0,0,0.16);
  backface-visibility:hidden;
}

/* base left shadow */
.page .front::before{
  content:"";
  position:absolute;
  left:0; top:0; bottom:0;
  width:16px;
  background:linear-gradient(90deg,rgba(0,0,0,0.35),rgba(0,0,0,0));
}

.page:not(.back-cover) .front::after,
.page:not(.back-cover) .back::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 0% 0%, rgba(255,255,255,0.45), transparent 40%),
    linear-gradient(90deg, rgba(0,0,0,0.45), transparent 40%, rgba(0,0,0,0.6));
  mix-blend-mode:multiply;
  opacity:0;
  pointer-events:none;
  transition:opacity .7s cubic-bezier(.18,.8,.25,1);
}

.page:not(.back-cover).turning .front::after,
.page:not(.back-cover).turning .back::after{
  opacity:.8;
}

.page .back{
  transform:rotateY(180deg);
}

.page.flipped .front,
.page.flipped .back{
  box-shadow:inset -8px 0 16px rgba(0,0,0,0.18), 0 10px 24px rgba(0,0,0,0.26);
}

.page:not(.back-cover).turning .front,
.page:not(.back-cover).turning .back{
  box-shadow:
    inset -6px 0 14px rgba(0,0,0,0.18),
    0 18px 40px rgba(0,0,0,0.35);
}

/* ---------------------------------- */
/*    C ‚Äî LEATHER BACK COVER FLIPS    */
/* ---------------------------------- */

.page.back-cover .front,
.page.back-cover .back {
  background:
    radial-gradient(ellipse at 20% 15%, rgba(255,255,255,0.14), transparent 55%),
    radial-gradient(ellipse at 80% 90%, rgba(0,0,0,0.55), transparent 55%),
    url("leather_cover.png") center/cover no-repeat,
    #0a213a !important;
}

.page.back-cover .front::before,
.page.back-cover .back::before{
  content:"";
  position:absolute;
  inset:12px;
  border-radius:6px;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.15),
    inset 0 0 26px rgba(0,0,0,0.9);
}

.page.back-cover .front::after,
.page.back-cover .back::after{
  content:"";
  position:absolute;
  top:-30%; left:5%;
  width:70%; height:160%;
  transform:rotate(-10deg);
  background:linear-gradient(
    130deg,
    rgba(255,255,255,0.32) 0%,
    rgba(255,255,255,0.10) 20%,
    rgba(0,0,0,0.0) 55%,
    rgba(0,0,0,0.55) 100%
  );
  opacity:.55;
  mix-blend-mode:screen;
}
</style>
</head>

<body>

<!-- üîä AUDIO -->
<audio id="pageSound" src="page-flip.mp3" preload="auto"></audio>
<audio id="coverSound" src="cover-close.mp3" preload="auto"></audio>

<!-- ‚úÖ PHONE SUPPORT (ADDED): wrap the book so we can scale it -->
<div class="scale-wrap" id="scaleWrap">
  <div class="book-wrap">

    <!-- HARD FRONT COVER -->
    <div class="cover">
      <div class="side front">
        <h1 class="cover-title">LSPD K√âZIK√ñNYV</h1>
        <p class="cover-subtitle">Los Santos Police Department ‚Äî Tananyag</p>
        <p class="cover-subtitle"><u>2025.12.13-i kiadv√°ny</u></p>
      </div>

      <div class="spine"></div>

      <div class="side back">
      </div>
    </div>

    <!-- PAGES -->
    <div class="pages" id="pages">

  <!-- PAGE 1 -->
  <div class="page" style="z-index:12">
    <div class="front">
      <h1><u>Rend≈ëri szolg√°lat alapjai</u></h1>
      <h2>Bevezet≈ë:</h2>
      <h4>Tisztelt √Ållom√°nytagok!</h4>
      <p>
Az oktat√°si anyag c√©lja, hogy a rend≈ëri √°llom√°ny valamennyi tagja ‚Äì √∫joncok, k√∂zrend≈ër√∂k √©s tisztek egyar√°nt ‚Äì egys√©ges, √°tl√°that√≥ √©s j√≥l k√∂vethet≈ë k√©pz√©st kapjon a szolg√°lattal j√°r√≥ feladatokr√≥l, felel≈ëss√©gekr≈ël √©s az elv√°rt szakmai-etikai norm√°kr√≥l.
      </p>
      <p>
        <strong>A dokumentum c√©lja:</strong><br>
        ‚Ä¢<u>Felk√©sz√≠t√©st</u> ny√∫jtani a rend≈ëri munka <u>elm√©leti √©s gyakorlati feladataira,</u><br>
        <br>
        ‚Ä¢Seg√≠ts√©get biztos√≠tani a vizsg√°k √©s alkalmass√°gi felm√©r√©sek <u>sikeres teljes√≠t√©s√©hez.</u><br>
        <br>
        ‚Ä¢<u>Szolg√°lat k√∂zben is haszn√°lhat√≥ referenciaanyagk√©nt t√°mogatni a d√∂nt√©shozatalt √©s a helyes int√©zked√©st.</u>
      </p>
      <p>
        A dokumentum fel√©p√≠t√©se lehet≈ëv√© teszi a <u>fokozatos tanul√°st</u>: az alapokt√≥l halad a <u>r√©szletesebb, √∂sszetettebb ismeretek</u> fel√©, biztos√≠tva az <u>√°tl√°that√≥ √©s hat√©kony felk√©sz√ºl√©st</u>.
      </p>
    </div>
    <div class="back">
      <p>
        <h3>R√©szlegek:</h3><br>
        <strong>‚Ä¢ √öjonc r√©szleg:</strong><br>
        C√©lja, hogy <u>biztos alapot ny√∫jtson a rend≈ëri szolg√°lat megkezd√©s√©hez</u>, √©s <u>felk√©sz√≠tse az √°llom√°ny √∫j tagjait a Rend≈ërtiszt I. szintre l√©p√©sre</u>.
        <br>
        <br>
        <strong>‚Ä¢ Tiszt I ‚Äì III+I r√©szleg:</strong><br>
        A Rend≈ërtiszt I., II., III. √©s III+1 rangot bet√∂lt≈ë √°llom√°nytagok sz√°m√°ra biztos√≠t felk√©sz√≠t√©st a Lincoln vizsg√°ra, valamint a HSIU √©s Charlie egys√©gekhez kapcsol√≥d√≥ vizsg√°kra.<br>
        C√©lja, hogy <u>elm√©ly√≠tse a szakir√°ny√∫ elm√©leti √©s gyakorlati ismereteket</u>, √©s <u>felk√©sz√≠tse az √°llom√°nyt a speci√°lis szolg√°lati feladatk√∂r√∂k k√∂vetelm√©nyeire √©s sikeres teljes√≠t√©s√©re</u>.
        <br>
        <br>
        <strong>‚Ä¢ ≈êrmester r√©szleg:</strong><br>
        <u>Vezet≈ëi d√∂nt√©shozatal</u>, <u>etikai k√©rd√©sek</u>, <u>enged√©lyez√©si √©s adminisztrat√≠v folyamatok</u>, valamint <u>jogi alapismeretek</u>.
        C√©lja a <u>Tiszti vizsg√°ra val√≥ felk√©sz√≠t√©s</u>.
        <br>
        <br>
        <strong>‚Ä¢ Vizsga r√©szleg:</strong><br>
        <u>Vizsgak√∂vetelm√©nyek</u>, <u>karrierlehet≈ës√©gek</u> √©s a <u>vizsg√°k lebonyol√≠t√°s√°nak menete</u>.
        <br>
        <br>
        Ez a rendszer <u>nem puszt√°n szab√°lyok √∂sszess√©ge</u>, hanem a <u>helyes gondolkod√°sm√≥d kialak√≠t√°s√°t</u> szolg√°lja.
        C√©lja, hogy <u>minden helyzetben m√©rlegelten, felel≈ëss√©gteljesen</u>, √©s a <u>k√∂z szolg√°lat√°t szem el≈ëtt tartva</u> j√°rj el.
      </p>
      </div>
  </div>

  <!-- PAGE 2 -->
  <div class="page" style="z-index:11">
    <div class="front">
      <h2>Chain of Command</h2>
      <ul>
        <li>Chief of Police</li>
        <li>Assistant Chief</li>
        <li>Deputy Chief</li>
        <li>Captain</li>
        <li>Lieutenant</li>
        <li>Sergeant</li>
        <li>Police Officer</li>
        <li>Cadet</li>
      </ul>
      <p>
        Orders must always be followed unless they are unlawful.
        Disputes are handled through proper reporting channels.
      </p>
    </div>
    <div class="back"></div>
  </div>

  <!-- PAGE 3 -->
  <div class="page" style="z-index:10">
    <div class="front">
      <h2>Radio Codes</h2>
      <ul>
        <li><strong>10-4</strong> ‚Äì Acknowledged</li>
        <li><strong>10-7</strong> ‚Äì Out of service</li>
        <li><strong>10-8</strong> ‚Äì In service</li>
        <li><strong>10-20</strong> ‚Äì Location</li>
        <li><strong>10-38</strong> ‚Äì Traffic stop</li>
        <li><strong>10-99</strong> ‚Äì Officer in distress</li>
      </ul>
      <p>
        Clear and professional radio communication is mandatory at all times.
      </p>
    </div>
    <div class="back"></div>
  </div>

  <!-- PAGE 4 -->
  <div class="page" style="z-index:9">
    <div class="front">
      <h2>Patrol Procedures</h2>
      <p>
        Officers must patrol assigned zones unless otherwise directed.
        Presence, visibility, and proactive policing are expected.
      </p>
      <ul>
        <li>Respond to calls promptly</li>
        <li>Maintain vehicle condition</li>
        <li>Log incidents accurately</li>
        <li>Request backup when necessary</li>
      </ul>
    </div>
    <div class="back"></div>
  </div>

  <!-- PAGE 5 -->
  <div class="page" style="z-index:8">
    <div class="front">
      <h2>Use of Force</h2>
      <p>
        Force must always be proportional to the threat.
        Deadly force is authorized only when there is an immediate danger
        to life.
      </p>
      <p>
        Officers are required to de-escalate whenever possible and
        document all use-of-force incidents.
      </p>
    </div>
    <div class="back"></div>
  </div>

  <!-- PAGE 6 -->
  <div class="page" style="z-index:7">
    <div class="front">
      <h2>Conduct & Discipline</h2>
      <ul>
        <li>Respect civilians and fellow officers</li>
        <li>No corruption or abuse of power</li>
        <li>No unauthorized equipment usage</li>
        <li>Follow roleplay standards at all times</li>
      </ul>
      <p>
        Violations may result in suspension, demotion, or termination.
      </p>
    </div>
    <div class="back"></div>
  </div>

      <!-- BACK COVER -->
      <div class="page back-cover" style="z-index:1">
        <div class="front"></div>
        <div class="back"></div>
      </div>

    </div>
  </div>
</div>

<script>
/* üîä SOUND FUNCTIONS */
function playPageFlip() {
  const s = document.getElementById("pageSound");
  s.currentTime = 0;
  s.play();
}

function playCoverClose() {
  const s = document.getElementById("coverSound");
  s.currentTime = 0;
  s.play();
}

/* ‚úÖ PHONE SUPPORT (ADDED): scale book to fit phone screen */
(function(){
  const wrap = document.getElementById('scaleWrap');

  function updateScale(){
    const bw = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--book-width')) || 1200;
    const bh = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--book-height')) || 800;

    const vw = window.innerWidth;
    const vh = window.innerHeight;

    // small padding so it doesn't touch edges
    const pad = 16;
    const sx = (vw - pad) / bw;
    const sy = (vh - pad) / bh;
    const s = Math.min(1, sx, sy);

    wrap.style.transform = `scale(${s})`;
  }

  window.addEventListener('resize', updateScale, {passive:true});
  window.addEventListener('orientationchange', updateScale, {passive:true});
  updateScale();
})();

/* PAGE FLIP LOGIC (YOURS, UNCHANGED) */
(function(){
  const pages = [...document.querySelectorAll('.page')];
  const total = pages.length;
  let flipping = false;

  const OFFSET_X = 6;
  const OFFSET_Z = 2;
  const MAX_OFFSET = 90;

  pages.forEach((p,i)=>{
    p.dataset.index = i+1;
    p.style.zIndex = total - i;
  });

  const offsetFor = idx =>
    Math.max(-MAX_OFFSET, -OFFSET_X * (idx-1));

  const apply = (page,flip)=>{
    const idx = +page.dataset.index;
    if(flip){
      page.style.transform =
        `rotateY(-180deg) translateX(${offsetFor(idx)}px) translateZ(${-OFFSET_Z*idx}px)`;
      page.style.zIndex = idx - 1;
    } else {
      page.style.transform = `rotateY(0deg) translateX(0) translateZ(0)`;
      pages.forEach((p,i)=>p.style.zIndex = total - i);
    }
  };

  const flipPage = page=>{
    if(flipping) return;
    flipping = true;

    const flip = !page.classList.contains('flipped');
    const isLastPage = +page.dataset.index === pages.length;

    // only inner pages get the "turning" bending classes
    if (!page.classList.contains('back-cover')) {
      page.classList.add('turning');
    }

    /* üîä CORRECTED SOUND BEHAVIOR */
    if (!isLastPage) {
      playPageFlip();   // normal pages only
    } else if (flip) {
      setTimeout(() => playCoverClose(), 320); // last page only
    }

    apply(page,flip);

    const doneDelay = page.classList.contains('back-cover') ? 470 : 720;

    setTimeout(()=>{
      page.classList.toggle('flipped',flip);

      if (!page.classList.contains('back-cover')) {
        page.classList.remove('turning','forward','backward');
      }

      flipping=false;
    }, doneDelay);
  };

  pages.forEach(p=>p.addEventListener("click",()=>flipPage(p)));

  /* ‚úÖ PHONE SUPPORT (ADDED): swipe to flip */
  let startX = 0, startY = 0, tracking = false;

  document.addEventListener('touchstart', (e)=>{
    if(!e.changedTouches || !e.changedTouches[0]) return;
    tracking = true;
    startX = e.changedTouches[0].clientX;
    startY = e.changedTouches[0].clientY;
  }, {passive:true});

  document.addEventListener('touchend', (e)=>{
    if(!tracking || !e.changedTouches || !e.changedTouches[0]) return;
    tracking = false;

    const endX = e.changedTouches[0].clientX;
    const endY = e.changedTouches[0].clientY;
    const dx = endX - startX;
    const dy = endY - startY;

    // ignore vertical scroll-like gestures
    if (Math.abs(dx) < 50 || Math.abs(dx) < Math.abs(dy)) return;

    // flip the first unflipped page (same as clicking a page)
    const current = pages.find(p=>!p.classList.contains('flipped')) || pages[pages.length-1];
    if (current) flipPage(current);
  }, {passive:true});
})();
</script>

</body>
</html>
